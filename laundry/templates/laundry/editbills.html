{% extends 'laundry/index.html' %} {% load crispy_forms_tags %}{% load bootstrap %} {% load static %}
{% comment %} {% load render_table from django_tables2 %} {% endcomment %}
{% block content %}

<head>
    <title>Laundry</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{% static 'css/tables.css' %}">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'js/jquery-ui.min.css' %}">
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    {% comment %} <script src="{% static 'js/main.js' %}"></script> {% endcomment %}
</head>
<form class="form-inline mt-2 mt-md-0" method="GET" action="{% url 'crm:search' %}" hidden>
    <input class="form-control mr-sm-2" type="text" name='q' placeholder="Search Clients" value="{{request.GET.q}}" aria-label="Search">
    <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
</form>
{% if user.is_authenticated %}
   {% comment %} <div class="container"> {% endcomment %}
    {% comment %} <div class="container"> {% endcomment %}
            {% comment %} <div class="floatLeft" style="float:left;"> {% endcomment %}
        {% comment %} <div class="row">
            <div class="col-4 ml-auto"> {% endcomment %}
                {% comment %} <form action="/laundry/bill/" method="POST" name="form">{% csrf_token %} {% endcomment %}
                    {% comment %} {{ query.get_absolute_url }}"/laundry/bill/" {% url 'laundry:data' bill=pk %} {% endcomment %}
                    {% comment %} <input type="text" class="form" name="recieveDate" placeholder="Recieve Date"/><br><br>
                    <input type="text" class="form" name="endDate" placeholder="End Date"/><br><br>
                    <input type="text" class="form" name="sumtotal" placeholder="Sum Total"/><br><br>
                    <input type="text" class="form" name="paid" placeholder="Paid"/><br><br>
                    <input type="text" class="form" name="remain" placeholder="Remain"/><br><br>
                    <input type="text" class="form" name="client" placeholder="Client Name"/><br><br>
                    <input type="submit" class="btn-primary" value="Submit"/>             
                                
                </form> 
            </div> {% endcomment %}
        {% comment %} </div> 
    </div> {% endcomment %}
            {% comment %} {% render_table table %} {% endcomment %}
    <br>
    {% comment %} <div class="container" style="float:right;"> {% endcomment %}
            <div class="floatRight" style="float:left;" >
        {% comment %} <div class="row"> {% endcomment %}
            {% comment %} <div class="col-4 mr-auto"> {% endcomment %}
                <form method="POST">{% csrf_token %} 
                    <div id="f-editbills"> 
                        {% comment %} {{ form | crispy }} {% endcomment %}
                        {{ form.recieveDate.label_tag }} {{ form.recieveDate }}
                        {{ form.endDate.label_tag }} {{ form.endDate }}
                        {{ form.sumtotal.label_tag }} {{ bound.sumtotal }}
                        {{ form.paid.label_tag }} {{ form.paid }}
                        {{ form.remain.label_tag }} {{ form.remain }}
                        {{ form.client.label_tag }} {{ form.client }}
                        {{ form.paidDone.label_tag }} {{ form.paidDone }}
                        <br />
                        <label>Canceled</label><br />
                        <label class="switch"> 
                        {{ form.returns }} 
                        {% comment %} <input type="checkbox" checked> {% endcomment %}
                        <span class="slider round"></span>
                        </label> 
                        {% comment %} {{ form.returns.label_tag }} {{ form.returns }} {% endcomment %}
                        {% comment %} {{ bound.sumtotal }} {% endcomment %}

                        <br /><br/>
                    {% comment %} <div class="input-group date" id="datetimepicker1" data-target-input="nearest">
                        {{ form.recieveDate }}
                        <div class="input-group-append" data-target="#datetimepicker1" data-toggle="datetimepicker">
                            <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                        </div>
                    </div> {% endcomment %}
                    {% comment %}"  {{ query.get_absolute_url }} action="{% url 'laundry:data' bill=pk %}" {% endcomment %}
                    {% comment %} <input type="text" name="customer" placeholder="Customer"/><br><br>
                    <input type="text" name="launtype" placeholder="Type"/><br><br>
                    <input type="text"  name="quantity" placeholder="Quantity"/><br><br>
                    <input type="text" name="price" placeholder="Price"/><br><br>
                    <input type="text"  name="total" placeholder="Total"/><br><br> {% endcomment %}
                    {% comment %} <input type="text" name="bill" placeholder="Bill No"/><br><br> {% endcomment %}
                        <input type="submit" class="btn btn-primary" value="Update" id="btn-editbills"/>
                        {% comment %} <a href="{{ query.get_absolute_url }}" class="btn btn-primary"/>Bill Details by func</a> {% endcomment %}
                        {% comment %} <a href="{% url 'laundry:data' bill=editbill.id %}" class="btn btn-primary" />Bill Details</a> {% endcomment %}
                    </div>
                </form>
            </div>
            <br />


        {% comment %} </div> {% endcomment %}
                    {% comment %} </div> {% endcomment %}
    {% comment %} </div> {% endcomment %}

{% comment %} {% for obj in qbill %}  
        <div class="row" style="float:right;">
            <table class="table table-striped">
                <a href="{% url 'laundry:data' bill=obj.bill %}" class="btn btn-primary" role="button" id="btn-edit-id">Edit Bill ID : {{ obj.bill }}</a>
                <tbody id="tbody-id">
                    <tr>
                        <td colspan="1">
                            <form class="well form-horizontal" style="background-color:white">
                                <fieldset>
                                    <p><strong>Bill ID :</strong> {{ obj.bill }}</p><br>
                                    <p><strong>Name :</strong> {{obj.customer}}</p><br>
                                    <p><strong>Type :</strong> {{obj.launtype}}</p><br>
                                    <p><strong>Quantity :</strong> {{obj.quantity}}</p><br>
                                    <p><strong>Price :</strong> {{obj.price}}</p><br>
                                    <p><strong>Total :</strong> {{obj.total}}</p><br>
                                </fieldset>
                                <a href="{% url 'laundry:data' bill=obj.bill %}" class="btn btn-primary" role="button" id="btn-edit-id">Edit</a>
                            </form>
                        </td>
                      </tr>
                    </tbody>
                  </table>
            </div>
        {% endfor %} {% endcomment %}

    {% comment %} <div class="container"> {% endcomment %}
        {% comment %} <div class="floatRight"> {% endcomment %}
        {% comment %} {% if query %} {% endcomment %}

           {% comment %} <div class="row">
                 <div class="col-8 ml-auto"
                    <ul>
                        {% for q in query %}
                            <li><p>Bill ID :</p>{{q.bill}}</li>
                            <li><p>Customer ID :</p>{{q.customer}}</li>
                            <li><p>Type :</p>{{q.launtype}}</li>
                            <li><p>Quantity :</p>{{q.quantity}}</li>
                            <li><p>Price :</p>{{q.price}}</li>
                            <li><p>Total :</p>{{q.total}}</li>
                            <h5>==========</h5>
                            <br>
                        {% endfor %}
                    </ul>
                </div>
            </div> {% endcomment %}
            {% comment %} {% endif %} {% endcomment %}
        {% comment %} </div> {% endcomment %}
    {% comment %} </div> {% endcomment %}
      {% comment %} <div class="container" id='div-table'>
          <div class="col-md-8 col-md-offset-2">
              <div class="panel panel-default">
                  <div class="panel-body">
                      <div class="table-wrapper">
                        <table class="fl-table" id="table"> <!-- class="fl-table" -->
                            <thead>
                                  <tr>
                                      <th>Bill ID</th>
                                      <th>Recieve Date</th>
                                      <th>End Date</th>
                                      <th>Type</th>
                                      <th>Quantity</th>
                                      <th>Price</th>
                                      <th>Total</th>
                                  </tr>
                              </thead>
                              <tbody>
                                  <tr>
                                      <td>{{q.id}}</td>
                                      <td>{{q.recieve_date}}</td>
                                      <td>{{q.end_date}}</td>
                                      <td>{{q.launtype}}</td>
                                      <td>{{q.quantity}}</td>
                                      <td>{{q.price}}</td>
                                      <td>{{q.total}}</td>
                                  </tr>
                              </tbody>
                          </table>
                      </div>
                  </div>
              </div>
          </div>
      </div> {% endcomment %}
    </div>
  
{% else %}
<div class="container">
    <table class="table table-striped">
        <tbody id="tbody-id">
          <tr>
            <td colspan="1">
              <form class="well form-horizontal" style="background-color:white">
                  <fieldset>
                    <br>
                      <p><strong>You must login in order to continue</strong></p><br>
                  </fieldset>
              </form>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <br>
{% endif %}

<script type="text/javascript" src="{% static 'js/jquery-3.4.1.min.js' %}"></script>
<script type="text/javascript" src="{% static 'js/jquery-ui.min.js' %}"></script>
<script type="text/javascript" src="{% static 'js/bootstrap.min.js' %}"></script>
<script type="text/javascript" src="{% static 'js/main.js' %}"></script>
<script>
    $('#datepicker1, #enddate').datepicker({
        dateFormat: "yy-mm-dd"
    });
    {% comment %} $(document).ready ( function () { 
        $("#editbills").animate({
            padding: "10px",
            margin: "20px",
            width: "800px",
            height: "800px"
        }, 500);
    }); {% endcomment %}
</script>


{% endblock %}
